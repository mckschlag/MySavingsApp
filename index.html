<!DOCTYPE html>
<html>
<head>
    <title>Savings with Commas</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        body { font-family: -apple-system, sans-serif; padding: 20px; background-color: #f4f7f6; }
        .box { background: white; padding: 25px; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); max-width: 400px; margin: auto; }
        h2 { color: #2c3e50; margin-top: 0; text-align: center; }
        label { font-weight: bold; display: block; margin-top: 15px; color: #555; }
        /* inputmode="numeric" ensures the number keyboard pops up on iPhone */
        input { width: 100%; padding: 12px; margin: 8px 0; border: 1px solid #ddd; border-radius: 8px; font-size: 16px; box-sizing: border-box; }
        button { width: 100%; padding: 15px; background-color: #007bff; color: white; border: none; border-radius: 8px; font-size: 18px; font-weight: bold; margin-top: 20px; cursor: pointer; }
        #output { margin-top: 25px; font-size: 17px; color: #333; line-height: 1.6; border-top: 1px solid #eee; padding-top: 15px; }
        .highlight { color: #28a745; font-weight: bold; }
    </style>
</head>
<body>
    <div class="box">
        <h2>ðŸ“ˆ Growth Calculator</h2>
        
        <label>Savings Goal ($)</label>
        <input type="text" id="goal" inputmode="numeric" placeholder="e.g. 10,000" oninput="formatBox(this)">
        
        <label>Monthly Contribution ($)</label>
        <input type="text" id="monthly" inputmode="numeric" placeholder="e.g. 500" oninput="formatBox(this)">
        
        <label>Annual Interest Rate (%)</label>
        <input type="number" id="interest" placeholder="e.g. 5" step="0.1">
        
        <button onclick="calculate()">Calculate Growth</button>
        <div id="output"></div>
    </div>

    <script>
        // This function adds commas while you type
        function formatBox(input) {
            // 1. Remove everything that isn't a digit
            let value = input.value.replace(/\D/g, "");
            // 2. Add the commas back in
            if (value !== "") {
                input.value = Number(value).toLocaleString();
            }
        }

        function calculate() {
            // For math, we must remove the commas first
            const goalStr = document.getElementById('goal').value.replace(/,/g, "");
            const monthlyStr = document.getElementById('monthly').value.replace(/,/g, "");
            
            const goal = parseFloat(goalStr);
            const monthly = parseFloat(monthlyStr);
            const annualRate = parseFloat(document.getElementById('interest').value) / 100;
            const output = document.getElementById('output');

            const moneyFormatter = new Intl.NumberFormat('en-US', {
                style: 'currency',
                currency: 'USD',
                maximumFractionDigits: 0
            });

            if (goal > 0 && monthly > 0) {
                let monthsToGoal;
                if (annualRate === 0 || isNaN(annualRate)) {
                    monthsToGoal = Math.ceil(goal / monthly);
                } else {
                    const monthlyRate = annualRate / 12;
                    const months = Math.log(1 + (goal * monthlyRate / monthly)) / Math.log(1 + monthlyRate);
                    monthsToGoal = Math.ceil(months);
                }
                
                const years = Math.floor(monthsToGoal / 12);
                const remainingMonths = monthsToGoal % 12;
                
                output.innerHTML = `To reach <span class="highlight">${moneyFormatter.format(goal)}</span>, it will take <span class="highlight">${monthsToGoal} months</span>.<br><br>` +
                                 `That is <strong>${years} year(s) and ${remainingMonths} month(s)</strong>.`;
            } else {
                output.innerHTML = "Please enter your goal and monthly savings!";
            }
        }
    </script>
</body>
</html>